## 2.1 命名规范

### 2.1.1.   表名规范

2.1.1.1. ODS层表名 ODS_应用系统名_数据表名例如：ODS_FUN_CUSTOMERINFO。

系统和应用名规则如下：

- 核心 COR
- 对公信贷 CLN
- 个贷 PLN
- 基金 FUN
- 票据 TIC
- 理财 FIN
- 报表  RPT

2.1.1.2. DW事实表表名 前缀为DW_主题名_功能描述例如：DW_ORD_DETAIL。

主题名规则如下：

- 订单 ORD
- 营销活动    MKC
- 贷款 LN
- 网银 NET
- 客户  CUS

数据表名规则如下：

- 基础表  _BA
- 日汇总表 _D
- 月汇总表 _M
- 历史累计 _H
- 全量加载 _A
- 增量加载 _I

2.1.1.3. APP应用层表名 前缀为APP_主题名_功能描述 例如：  APP_RPT_ DEALER_GOODS。

主题名规则如下：

- 报表 RPT

数据表名规则如下：

参考DW层表名称规范

2.1.1.4. DW/DM维度表表名

前缀为DW_数据表名称例如：D_ACCOUNT、D_PUB_DATE。

数据表名规则如下：

- 日期维度  D_PUB_DATE

- 城市 D_CITY

 

2.1.1.5. 元数据表名 前缀为M_应用名_功能描述 例如：M_ETL_TASK。

应用名规则如下：

- ETL  ETL

- 报表 RPT

- OLAP分析 OLP

- 源系统 SRC

- 数据库 DB

- 软硬件 SHW


2.1.1.2.  表分区名

前缀为p 。分区名必须有特定含义的单词或字串。例如 ：tbl_pstn_detail 的分区p2004100101表示该分区存储 2004100101时段的数据。

2.1.1.3.  字段名

字段名称必须用字母开头，采用有特征含义的单词或缩写，不能用双引号包含。

2.1.1.4.  字段排列

每个表中的字段排列也应该遵从相应的规则进行摆放：

- 同类属性尽量靠拢摆放 例如：“开户日期”、“销户日期”等，可以排列在一起、

- 相关属性尽量靠拢摆放 例如：“币种”、“金额”常常一起使用，应排列在一起；

- 重要的和常用的属性靠前

- 和源系统非常接近的表和源系统的属性顺序一致

2.1.1.5.主键名 

前缀为PK_。主键名称应是 前缀+表名+构成的字段名。

2.1.1.6.外键名 

前缀为FK_。外键名称应是 前缀+外键表名+主键表名+外键表构成的字段名。

 2.1.2.   索引

- 普通索引 前缀为IDX_。前缀+表名+构成的字段名。

- 主键索引前缀为IDX_PK_。前缀+表名+构成的主键字段名，

- 唯一索引前缀为IDX_UK_。前缀+表名+构成的字段名。

- 外键索引前缀为IDX_FK_。前缀+表名+构成的外键字段名。

- 函数索引前缀为IDX_func_。前缀+表名+构成的特征表达字符。

- 簇索引 前缀为IDX_clu_。前缀+表名+构成的簇字段。

 2.1.3.   视图 

前缀为V_。V_+业务操作。

 2.1.4.   物化视图 

前缀为MV_。MV_+业务操作 按业务操作命名实体化视图。

 2.1.5.   存储过程 

前缀为SP_ 。SP_+业务操作 按业务操作命名存储过程。

 2.1.6.   触发器 

前缀为Trig_ 。Trig_表名+触发器名

 2.1.7.   函数 

前缀为Func_ 。Func_+业务操作

 2.1.8.   数据包 

前缀为Pkg_ 。Pkg_+业务操作

 2.1.9.   序列 

前缀为Seq_ 。+业务操作

 2.1.10.   普通变量 

前缀为Var_ 。 变量前缀建议：字符vs_，数字vi_，日期vd_+变量名

 2.1.11.   游标变量 

前缀为Cur_ 。Cur_+变量名 存放游标记录集。

 2.1.12.   记录型变量 

前缀为Rec_ 。Rec_+变量名 存放记录型数据。

 2.1.13.   表类型变量

 前缀为Tab_ 。Tab_+变量名 存放表类型数据。

 2.1.14.   数据库链接 

前缀为dbl_ 。dbl_+变量名 表示分布式数据库外部链接关系。

-----

## 2.2.  命名

 2.2.1.   语言

 使用英文单词，避免拼音，用词组组合，采用用简或缩写，对象名重名加类型前缀或后缀以示区别。

 2.2.2.   大小写

 名称一律小写

 2.2.3.   单词分隔

 使用下划线进行分隔。

 2.2.4.   保留字

 不允许使用保留字。

 2.2.5.   命名长度

 限制在20个字符内(含前缀)。

 2.2.6.   字段名称 

不同的表用于相同内容的字段应该采用同样的名称，字段类型定义。

 例如：

| **行为名称** | **行为英文名称** | **英文缩写** |
| ------------ | ---------------- | ------------ |
| 计数         | Count            | cnt          |
| 金额         | Amount           | amt          |
| 微信         | Weixin           | Wx           |
| 成功         | success          | succ         |
| 支付         | Pay              | pay          |
| 地址         | Address          | addr         |
| 订单         | Order            | ord          |
| 渠道         | Channel          | chl          |
| 完成         | Finish           | Fin          |

 

## 2.3  数据类型 规范

 2.3.1.   字符型

固定长度的字串类型采用char，长度不固定的采用varchar。使用trim()函数截去字串后的空格。

 2.3.2.   数字型

数字型字段尽量采用number类型。
数字型字段长度越小，数据加载、计算效率越好。
金额型字段，建议采用decimal类型，保证精确性

 2.3.3.   日期和时间

系统时间 首选数据库的日期型，如DATE类型。
外部导入的时间 采用varchar类型，数据格式采用：YYYYMMDDHH24MISS。

 2.3.4.   大字段

如无特别需要，避免使用大字段(blob，clob，long，text，image等)。

 2.3.5.   唯一键

对于数字型唯一键值，尽可能用自增产生。

